<div class="profileBack mainBackground">

  <app-lang></app-lang>

  <div class="profileFormsWrapper cardBackgroundColor">

    <h2 class="profileTitle titleColor" i18n>Profile</h2>

    <div class="userAvatarImgWrapper">
      <img [src]="userAvatar" *ngIf="userAvatar" class="userAvatarImg">
    </div>

    <form (ngSubmit)="handleProfileForm(fProfile)" #fProfile="ngForm" class="titleColor">

      <mat-form-field appearance="legacy" class="profileInputWrapper">
        <mat-label i18n>Email</mat-label>
        <input matInput
               type="email"
               required
               id="email"
               name="email"
               ngModel
               disabled
               [ngModel]="userEmail"
        >
      </mat-form-field>

      <mat-form-field appearance="legacy" class="profileInputWrapper">
        <mat-label i18n>Username</mat-label>
        <input matInput
               type="text"
               required
               id="usernameInput"
               name="usernameInput"
               ngModel
               [ngModel]="userName"
        >
        <mat-error *ngIf="usernameInput.invalid" i18n>You must enter a value</mat-error>
      </mat-form-field>

      <div class="submitBtn">
        <button mat-raised-button
                color="accent"
                [disabled]="!fProfile.valid" i18n>Update Profile
        </button>
      </div>

    </form>

    <div *ngIf="!isLoginWithGoogle">
      <h2 class="changePassTitle titleColor" i18n>Change Password</h2>
      <form (ngSubmit)="handlePassForm(fPass)" #fPass="ngForm" class="titleColor">

        <mat-form-field appearance="legacy" class="profileInputWrapper">
          <mat-label i18n>New Password</mat-label>
          <input matInput
                 type="password"
                 required
                 id="newPassword"
                 name="newPassword"
                 minlength="6"
                 ngModel
          >
          <mat-error *ngIf="newPassword.invalid">{{ getPassInputError() }}</mat-error>
        </mat-form-field>

        <div class="submitBtn">
          <button mat-raised-button
                  color="accent"
                  [disabled]="!fPass.valid" i18n>Update Password
          </button>
        </div>

      </form>
    </div>

    <div *ngIf="showProgress" class="modalProgressWrapper">
      <mat-spinner class="modalIndicator" [diameter]="20" color="accent"></mat-spinner>
      <p i18n>Please Wait...</p>
    </div>

  </div>

</div>
